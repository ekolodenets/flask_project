{% extends 'base.html' %}

{% block content %}

{% for massage in get_flashed_messages() %}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        <strong>{{ massage }}</strong>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>

{% endfor %}

    <h1>User List:</h1>
    <br>
    <div class="shadow p-3 mb-5 bg-body rounded">

    <form method="post">
        {{ form.hidden_tag() }}

        {{ form.username.label(class='form-label') }}
        {{ form.username(class='form-control') }}

        {{ form.name.label(class='form-label') }}
        {{ form.name(class='form-control') }}

        {{ form.email.label(class='form-label') }}
        {{ form.email(class='form-control') }}

{#        {{ form.favourite_color.label(class='form-label') }}#}
{#        {{ form.favourite_color(class='form-control') }}#}

        {{ form.password_hash.label(class='form-label') }}
        {{ form.password_hash(class='form-control') }}

        {{ form.password_hash2.label(class='form-label') }}
        {{ form.password_hash2(class='form-control') }}

        <br>
        {{ form.submit(class='btn btn-secondary') }}
    </form></div>
    <br>
  <table class="table table-light table-hover table-striped">
  <thead><tr><td>ID</td> <td>NAME</td><td>NICKNAME</td><td>EMAIL</td><td>COLOR</td><td>DELETING</td></tr></thead>
  <tr>
  {% for user_ in flask1 %}
        <td>{{ user_.id }}.</td> <td><a href="{{ url_for('update', id=user_.id)}}">{{ user_.name }}</a></td><td>{{ user_.username }}</td><td>{{ user_.email }}</td><td>{{ user_.favourite_color }}</td><td><a href="{{ url_for('delete', id=user_.id)}}">Delete</a></td>
      </tr><br>
  {% endfor %}
  </table>

{% endblock %}