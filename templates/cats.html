{% extends "base.html" %}

{% block content %}
{% for massage in get_flashed_messages() %}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        <strong>{{ massage }}</strong>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
{% endfor %}

<h2>All cats page</h2>
    {% for cat in cats %}
        {% if cat.cat_pic %}
    <img src="{{ url_for('static', filename='images/' + cat.cat_pic)}}" width="200" align="right">
    {% else %}
        <img src="{{ url_for('static', filename='images/wanted.jpg')}}" width="200" align="right">

    {% endif %}
        {{ cat.category }}<br>
        {{ cat.age }}<br>
        {{ cat.price }}<br>
        {{ cat.city }}<br>
        {{ cat.poster.name }}<br>
        {{ cat.contact }}<br>
        {{ cat.info }}<br>
        {{ cat.date_posted.strftime('%Y.%m.%d %H:%m') }}<br>
        <a href="{{ url_for('cat', id=cat.id) }}" class="btn btn-outline-secondary">View cat</a>
    {% if cat.poster_id == current_user.id or current_user.id == 5 %}
        <a href="{{ url_for('edit_cat', id=cat.id) }}" class="btn btn-outline-secondary">Edit</a>
        <a href="{{ url_for('delete_cat', id=cat.id) }}" class="btn btn-outline-danger">Delete</a>
    {% endif %}

        <hr>
    {% endfor %}



{% endblock %}